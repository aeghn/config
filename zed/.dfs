#!/usr/bin/env bash

set -eu

# Created by dfs

######### TDOC_BEGIN
# is_linux: check if linux
# is_msys: check if msys2
# msg: msg
# warn: warn
# die: die
# ask: ask for prompt, and return the value
# git_managed: check if current dir is in git managed
# git_is_dirty: check if current git repo is dirty
# kln: ln -sT $1 $2
# kcp: cp -rT $1 $2
# kmap: try to map by using kcp or kln
# kmapp: kmap "$1" "$2/${1##*/}"
# DFS_DIR
######## TDOC_END

# File to store and restore.
CONFIG_DIR="$HOME/.config/zed" 

store() {
	if [ -d "$CONFIG_DIR" ]; then
		rm -f "$DFS_DIR/settings.json"
		kcp "$CONFIG_DIR/settings.json" "$DFS_DIR/settings.json"
		rm -f "$DFS_DIR/keymap.json"
		kcp "$CONFIG_DIR/keymap.json" "$DFS_DIR/keymap.json"
	fi
}

restore() {
  kmapp settings.json "$CONFIG_DIR"
  kmapp keymap.json "$CONFIG_DIR"
}
